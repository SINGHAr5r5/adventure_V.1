{"version":3,"sources":["../../src/pages/myticket/myticket.module.ts","../../src/pages/myticket/myticket.ts"],"names":[],"mappings":"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","file":"23.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MyticketPage } from './myticket';\n\n@NgModule({\n  declarations: [\n    MyticketPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(MyticketPage),\n  ],\n})\nexport class MyticketPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/myticket/myticket.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ModalController, PopoverController } from 'ionic-angular';\nimport { GlobalDataService } from '../../services/globaldata.service';\nimport { ServiceFactoryThread } from '../../services/ServiceFactoryThread';\nimport { MenuRightComponent } from '../../components/menu-right/menu-right';\nimport * as $ from 'jquery'\n/**\n * Generated class for the MyticketPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-myticket',\n  templateUrl: 'myticket.html',\n})\nexport class MyticketPage {\n  postEvent: any = [];\n  incommentEvent: any = [];\n  lastestEvent: any = [];\n  monthLista: any = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n  status: boolean = false;\n  linit_last: any = 1;\n  limit_incoming: any = 1;\n  limit_post: any = 1;\n  datadype:any = this.navParams.get('data');\n  dataRes:any = [];\n\n  constructor(public popoverCtrl: PopoverController,public modalCtrl: ModalController, public serviceFactoryThread: ServiceFactoryThread, private gd: GlobalDataService, public navCtrl: NavController, public navParams: NavParams) {\n    this.getData('');\n  }\n  gobooking(){\n    this.navCtrl.popToRoot();\n  }\n  goProfile(image){\n    this.gd.nextpage(this.navCtrl, 'ProfilePage', { 'data': image })\n  }\n  presentPopover(myEvent) {\n    $(\".share\").removeClass('share');\n    $(\"body\").addClass('rightMenu');\n    let popover = this.popoverCtrl.create(MenuRightComponent, { navCtrl: this.navCtrl });\n    popover.present({\n      ev: myEvent\n    });\n  }\n  getData(refresher) {\n    // this.serviceFactoryThread.ServiceThread(\"get_booking\", { 'user_id': this.gd.userProfile.user_id }, \"post\").then(data => {\n    this.serviceFactoryThread.ServiceThread(\"get_booking\", { 'user_id': '55' }, \"post\").then(data => {\n      console.log(data);\n      if (data[\"res_code\"] == '00') {\n        \n        this.postEvent = [];\n        this.incommentEvent = [];\n        this.lastestEvent = [];\n        let index = 0;\n        this.dataRes = data[\"res_result\"];\n        // data[\"res_result\"].forEach(element => {\n        //   element.month = this.monthLista[new Date(element.booking_date).getMonth()];\n        //   element.day = new Date(element.booking_date).getDate();\n        //   element.year = new Date(element.booking_date).getFullYear();\n        //   if (index == 0 && new Date(element.booking_date) >= new Date()) {\n        //     this.lastestEvent.push(element);\n        //   } else if (new Date(element.booking_date) >= new Date()) {\n        //     this.incommentEvent.push(element);\n        //   } else {\n        //     this.postEvent.push(element);\n        //   }\n        //   index++;\n        // });\n        if(this.datadype == 'status'){\n          let datasend = {\n            'booking_code': data[\"res_result\"][0].booking_code_order,\n            'lat': this.serviceFactoryThread.userlocation.lat,\n            'lng': this.serviceFactoryThread.userlocation.long,\n            'widthPhone': $('ng-component').width()\n          }\n          this.serviceFactoryThread.ServiceThread(\"get_booking_detail\", datasend, \"POST\").then(data => {\n            this.gd.nextpage(this.navCtrl, \"PaymentStatusPage\", { 'data': data['res_result'] });\n          });\n        }\n        if (this.status) {\n          setTimeout(() => {\n            refresher.complete();\n          }, 500);\n        }\n      }\n    })\n  }\n  doRefresh(refresher) {\n    this.getData(refresher);\n    this.status = true;\n  }\n  seeMore(data) {\n    if (data == 1) {\n      this.linit_last = 50;\n    } else if (data == 2) {\n      this.limit_incoming = 50;\n    } else if (data == 3) {\n      this.limit_post = 50;\n    }\n  }\n  seeless(data) {\n    if (data == 1) {\n      this.linit_last = 1;\n    } else if (data == 2) {\n      this.limit_incoming = 1;\n    } else if (data == 3) {\n      this.limit_post = 1;\n    }\n  }\n  // nextPaged(dataget) {\n  //   let datasend = {\n  //     'booking_code': dataget.booking_code_order,\n  //     'lat': this.gd.userlocation.lat,\n  //     'lng': this.gd.userlocation.long,\n  //     'widthPhone': $('ng-component').width()\n  //   }\n  //   this.serviceFactoryThread.ServiceThread(\"get_booking_detail\", datasend, \"POST\").then(data => {\n  //     // this.gd.nextpage(this.navCtrl, \"PaymentStatusPage\", { 'data': data['res_result'] });\n  //   });\n  // }\n  nextPage(data){\n    console.log(data);\n    if(data.booking_status == 1){\n      this.gd.nextpage(this.navCtrl,'TicketPage',{data:data});\n    }\n  }\n  review(data) {\n    \n    let modalbirthday = this.modalCtrl.create('ReviewPage', { data: data });\n    modalbirthday.onDidDismiss(data => {\n      console.log(data);\n    });\n    modalbirthday.present();\n  }\n  scrollTopFN() {\n    this.navCtrl.parent.select(0);\n  }\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/myticket/myticket.ts"],"sourceRoot":""}