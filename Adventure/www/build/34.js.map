{"version":3,"sources":["../../src/pages/booking-explore/booking-explore.module.ts","../../src/pages/booking-explore/booking-explore.ts"],"names":[],"mappings":"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","file":"34.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { BookingExplorePage } from './booking-explore';\n\n@NgModule({\n  declarations: [\n    BookingExplorePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(BookingExplorePage),\n  ],\n})\nexport class BookingExplorePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/booking-explore/booking-explore.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Slides, PopoverController } from 'ionic-angular';\nimport { GlobalDataService } from '../../services/globaldata.service';\nimport { ServiceFactoryThread } from '../../services/ServiceFactoryThread';\nimport { trigger, state, style, transition, animate } from '@angular/animations';\nimport { MenuRightComponent } from '../../components/menu-right/menu-right';\n\nimport { app } from 'firebase';\nimport * as firebase from 'Firebase';\nimport * as $ from 'jquery'\n\n\n/**\n * Generated class for the BookingExplorePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-booking-explore',\n  templateUrl: 'booking-explore.html',\n})\nexport class BookingExplorePage {\n  ref = firebase.database().ref('shopComment/');\n  firebaseConnect: any;\n  data_get:any = [];\n  constructor(public popoverCtrl: PopoverController, private gd: GlobalDataService, public navCtrl: NavController, public navParams: NavParams, public serviceFactoryThread: ServiceFactoryThread, ) {\n    this.data_get = navParams.get('data');\n    console.log(navParams.get('data'));\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad BookingExplorePage');\n  }\n  goProfile(image){\n    this.gd.nextpage(this.navCtrl, 'ProfilePage', { 'data': image })\n  }\n  presentPopover(myEvent) {\n    $(\".share\").removeClass('share');\n    $(\"body\").addClass('rightMenu');\n    let popover = this.popoverCtrl.create(MenuRightComponent, { navCtrl: this.navCtrl });\n    popover.present({\n      ev: myEvent\n    });\n  }\n  nextPage(dataget) {\n    console.log(dataget);\n    this.checkroom(dataget).then(data => {\n      this.gd.nextpage(this.navCtrl, 'BookingdetailPage', { data: dataget });\n    })\n  }\n\n  checkroom(getData) {\n    return new Promise((resolve, reject) => {\n      if (getData.package_room_key == \"\") {\n        let datasend = {\n          \"id\": getData.packet_id,\n          \"key\": '',\n        }\n        this.serviceFactoryThread.ServiceThread(\"check_key_comment_package\", datasend, \"POST\").then(data => {\n          console.log(data);\n          if (data[\"res_code\"] == '00') {\n            getData.package_room_key = data[\"res_result\"][\"res_result\"];\n            resolve();\n          } else {\n            this.createRoom(getData).then(data => {\n              getData.package_room_key = data;\n              let datasend = {\n                \"id\": getData.packet_id,\n                \"key\": data,\n              }\n              this.serviceFactoryThread.ServiceThread(\"check_key_comment_package\", datasend, \"POST\").then(data => {\n                console.log('add_room');\n                resolve();\n              });\n            })\n\n          }\n        });\n      } else {\n        resolve();\n      }\n    });\n\n  }\n  createRoom(getData) {\n    return new Promise((resolve, reject) => {\n      let newData = this.ref.push();\n      newData.set({\n        roomname: getData.packet_id,\n      });\n      resolve(newData.key);\n    })\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/booking-explore/booking-explore.ts"],"sourceRoot":""}