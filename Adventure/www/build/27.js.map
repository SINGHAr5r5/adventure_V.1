{"version":3,"sources":["../../src/pages/editprofile/editprofile.module.ts","../../src/pages/editprofile/editprofile.ts"],"names":[],"mappings":"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","file":"27.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { EditprofilePage } from './editprofile';\n\n@NgModule({\n  declarations: [\n    EditprofilePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(EditprofilePage),\n  ],\n})\nexport class EditprofilePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/editprofile/editprofile.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController, ActionSheetController, AlertController } from 'ionic-angular';\nimport { GlobalDataService } from '../../services/globaldata.service';\nimport { Camera } from '@ionic-native/camera';\nimport { ServiceFactoryThread } from '../../services/ServiceFactoryThread';\n\n/**\n * Generated class for the EditprofilePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-editprofile',\n  templateUrl: 'editprofile.html',\n})\nexport class EditprofilePage {\n  country: any;\n  data: any = {};\n  constructor(public viewCtrl: ViewController, public serviceFactoryThread: ServiceFactoryThread, private alertCtrl: AlertController, public actionSheetCtrl: ActionSheetController, private camera: Camera, private gd: GlobalDataService, public navCtrl: NavController, public navParams: NavParams) {\n    this.country = gd.Country;\n    this.data['fname'] = gd.userProfile['user_firstname'];\n    this.data['lname'] = gd.userProfile['user_lastname'];\n    this.data['email'] = gd.userProfile['user_email'];\n    this.data['country'] = gd.userProfile['country_id'];\n    this.data['date'] = gd.userProfile['user_birthday'];\n    this.data['user_img'] = gd.userProfile['user_path_img'];\n\n    if (gd.userProfile['user_gender'] == 'M') {\n      this.data['sex'] = '1';\n    } else {\n      this.data['sex'] = '2';\n    }\n\n    if (gd.userProfile['user_interestedIn'].split(\",\").length == 1) {\n      if (gd.userProfile['user_interestedIn'].split(\",\")[0] == 'M') {\n        this.data['interestedin1'] = true;\n      } else {\n        this.data['interestedin2'] = true;\n      }\n    } else {\n      this.data['interestedin1'] = true;\n      this.data['interestedin2'] = true;\n    }\n\n    // this.data['sex'] = gd.userProfile['user_gender']\n    // console.log(gd.userProfile);\n\n  }\n\n  ionViewDidLoad() {\n    // console.log('ionViewDidLoad EditprofilePage');\n  }\n\n  dismiss() {\n    this.viewCtrl.dismiss();\n  }\n\n  presentActionSheet() {\n    let actionSheet = this.actionSheetCtrl.create({\n      title: 'Option',\n      buttons: [\n\n        {\n          text: 'Choose Form Library',\n          cssClass: \"\",\n          handler: () => {\n            this.takePicture(2, this.navCtrl);\n            // console.log('Destructive clicked');\n          }\n        }, {\n          text: 'Take Photo',\n          cssClass: \"\",\n          handler: () => {\n            this.takePicture(1, this.navCtrl);\n            // console.log('Archive clicked');\n          }\n        }, {\n          text: 'Cancel',\n          cssClass: \"Select3\",\n          handler: () => {\n            // console.log('Archive clicked');\n          }\n        }\n      ]\n    });\n    actionSheet.present();\n  }\n\n  takePicture(check, navCtrl) {\n    let type;\n    if (check == 1) {\n      type = this.camera.PictureSourceType.CAMERA\n    } else {\n      type = this.camera.PictureSourceType.PHOTOLIBRARY\n    }\n\n    this.camera.getPicture({\n      sourceType: type,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.JPEG,\n      allowEdit: true,\n      mediaType: this.camera.MediaType.PICTURE\n\n    }).then((imageData) => {\n      // imageData is a base64 encoded string\n      this.data['imageData'] = \"data:image/jpeg;base64,\" + imageData;\n      // console.log(this.data['imageData']);\n      // // console.log(\"data:image/jpeg;base64,\" + imageData);\n      document.getElementById('profile').setAttribute('src', \"data:image/jpeg;base64,\" + imageData);\n    }, (err) => {\n      // console.log(err);\n    });\n  }\n\n  send() {\n    // // console.log(this.data);\n\n    if (this.data.fname == '') {\n      this.gd.toast('Please enter your first name');\n    } else if (this.data.lname == '') {\n      this.gd.toast('Please enter your last name');\n    } else if (this.data.email == '') {\n      this.gd.toast('Please enter your email');\n    } else if (!this.gd.ValidateEmail(this.data.email)) {\n      this.gd.toast('Plaease check your email');\n    } else if (this.data.interestedin1 == false && this.data.interestedin2 == false) {\n      this.gd.toast('Please select your Interested');\n    } else {\n      this.serviceFactoryThread.ServiceThread('checkEmail', { email: this.data.email }, 'POST').then(data => {\n        if (data['res_code'] != '00') {\n          this.gd.toast('This email already exists.');\n        } else {\n          let alert = this.alertCtrl.create({\n            title: 'Confirm',\n            message: 'Confirm edit profile?',\n            buttons: [\n              {\n                text: 'Cancel',\n                role: 'cancel',\n                handler: () => {\n                  // console.log('Cancel clicked');\n                }\n              },\n\n              {\n                text: 'Ok',\n                handler: () => {\n                  // console.log('Buy clicked');\n                  this.serviceFactoryThread.ServiceThread('UpdateUser', this.data, 'POST')\n                    .then(data => {\n                      if (data['res_code'] == '00') {\n                        // console.log(data['res_result']);\n                        var countryIndex = this.country.findIndex(x => x.country_id == this.data['country']);\n                        this.gd.userProfile['user_firstname'] = this.data['fname'];\n                        this.gd.userProfile['user_lastname'] = this.data['lname'];\n                        this.gd.userProfile['user_email'] = this.data['email'];\n                        this.gd.userProfile['country_id'] = this.data['country'];\n                        this.gd.userProfile['user_birthday'] = this.data['date'];\n                        this.gd.userProfile['country_name_en'] = this.country[countryIndex]['country_name_en'];\n                        if (this.data['imageData']) {\n                          this.gd.userProfile['user_path_img'] = data['res_result']['user_path_img'];\n                        }\n                        this.gd.userProfile['user_interestedIn'] = data['res_result']['user_interestedIn'];\n                        this.gd.userProfile['user_gender'] = data['res_result']['user_gender'];\n                        this.gd.toast(data['res_text']);\n                        this.navCtrl.pop();\n                      } else {\n                        // console.log(data['res_text']);\n                      }\n                    });\n                }\n              },\n              // {\n              //   text: 'Cancel',\n              //   role: 'cancel',\n              //   handler: () => {\n              //     // console.log('Cancel clicked');\n              //   }\n              // }\n            ]\n          });\n          alert.present();\n        }\n      })\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/editprofile/editprofile.ts"],"sourceRoot":""}